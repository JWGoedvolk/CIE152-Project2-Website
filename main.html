<html>
    <title>Cody | Rubber Duck Debugging</title>
    <link rel="stylesheet" href="style.css">
    <body>
        <div>
            <h1 id="Title">Cody, The Rubber Duck Bug Snatcher!</h1>
        </div>
        <div id="Input">
            <form id="TextInput", method="get">
                <input type="text" name="input", placeholder="What Problem Do You Need Help With", id="textInput">
            </form>
            <form id="Display">
                <button type="button", onclick="displayMessage()">Display Message</button>
            </form>
        </div>
        <div>
            <p id="inputMsg">
                user input
            </p>
            <p id="duckAnser">

            </p>
        </div>
        <script>
            function displayMessage() {
                var userInput = "";
                userInput = document.getElementById("textInput").value;
                console.log("Input: " + userInput);
                document.getElementById("inputMsg").innerHTML = userInput;

                const keywords = {
                    "debugging" : 
                        [
                            "For debugging I would suggest",
                            "If you are using Javascript, use //",  
                            "If you are using HTML,use <!--   -->"
                        ],
                    "button": 
                        [
                            "For buttons not calling their functions in HTML, ",
                            "Setting the type for your input field to 'button'",
                            "For buttons not calling their function in Unity, ",
                            "Making sure from the inspector that the function is set to the correct one",
                        ],
                    "showing":
                        [
                            "For changes to a website, ",
                            "Try refreshing the page",
                            "For Unity variables not showing in the inspector",
                            "Checking to see if they have '[SerializeField]' if they are private or setting them to public"
                        ],
                    "not moving": 
                        [
                            "For Unity objects, ",
                            "Do they have the script causing them to move attached",
                            "The function causing them to move is being called somewhere in a script"
                        ]
                }

                var succes = false;
                for (let index = 0; index < Object.keys(keywords).length; index++)  {
                    const element = Object.keys(keywords)[index];
                    console.log("Looking for: " + element);
                    if (userInput.includes(element)) {
                        console.log("Found keyword");
                        succes = true;
                        if (succes)
                        {
                            var answer = "Sure I can help with that! Have you tried: "
                            document.getElementById("duckAnser").innerHTML = answer;
                        }
                        var solutions = keywords[element]
                        console.log("Solution: " + solutions)
                        for (const solution in solutions) {
                            console.log(solution);
                            document.getElementById("duckAnser").innerHTML += "<br>"
                            document.getElementById("duckAnser").innerHTML += solutions[solution];
                        }

                        document.getElementById("duckAnser").style.borderStyle = "solid";
                    }
                }
                if (!succes) {
                    document.getElementById("duckAnser").style.borderStyle = "solid";
                    document.getElementById("duckAnser").innerHTML = "Unfortunatly I am but a mortal and don't know everything. I have no answer for your predicament! Perhaps I can help you solve a different problem!"
                }
                
            };
        </script>
    </body>
</html>